<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("../fragmente/head.ejs") %>
</head>
<body>
    <%- include("../fragmente/header.ejs") %>
    <main>

        <!-- input de tip text -->
        <label> Name of event: <input type="text" id="inp-denumire"></label>

         <!-- input de tip range. -->
         <div id="price-range" class="">
            <label class="form-label"> Min.Total Price (incl. services and organization) </label>
            <span id="minRange">(300)</span>
            <span id=""><input type="range" id="inp-pret" class="form-range" type="range" value="30" min="300" step="100" max="4000"
                    style="display: inline-block;"></span>
                     <span id="maxRange">(4000)</span>
                    <span id="val_select">(300)</span>
        </div>

        <!-- datalist -->
        <div class="row">
            <div class="col-md-3">
                <label for="event-menu">Offered menu type:</label>
                <input list="event-menu" name="event-menu" id="inp-event-menu">
                <datalist id="event-menu">
                    <!-- <option value="All" selected id="">Select all</option> -->
                    <option value="Traditional">Traditional</option>
                    <option value="Vegan">Vegan</option>
                    <option value="Vegetarian">Vegetarian</option>
                    <option value="Pescatarian">Pescatarian</option>
                </datalist>
            </div>

        <!-- grup de inputuri de tip radio -->
        <div> Organization costs (excl. services):<!-- trebuie sa aiba acelasi name ca sa formeze un grup -->
            <p><label>Limited ( Price &lt; 100)
                <input id="radio-1"  name="org-cost" value="0:100" type="radio"/>
            </label></p>
            <p><label>Small but flexible budget (100 &le; Price &lt; 350)
                <input id="radio-2"  name="org-cost" value="100:350" type="radio"/>
            </label></p>
            <p><label>Good budget (350 &le; Price &lt; 650)
                <input id="radio-3" name="org-cost" value="350:650" type="radio"/>
            </label></p>
            <p><label>Expensive (Splurge) (650 &le; Price)
                <input id="radio-4" name="org-cost" value="650:1000000000" type="radio"/>
            </label></p>
            <p><label>Select all
                <input id="radio-all" checked name="org-cost" value="all" type="radio"/>
            </label></p>
        </div>


            <!-- input de tip checkbox sau grup de inputuri de tip checkbox -->
            <div id="event-sizes" class="col-md-3">
                <fieldset>
                    <legend>Event size:</legend>
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="small"
                            name="ev_size" value="Small">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Small</label>
                    </div>

                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="medium"
                            name="ev_size" value="Medium">
                        <label class="form-check-label" for="flexSwitchCheckDefault">Medium</label>
                    </div>

                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox"  role="switch" id="large"
                            name="ev_size" value="Large" >
                        <label class="form-check-label" for="flexSwitchCheckDefault">Large</label>
                    </div>

                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox"  role="switch" id="x-large"
                            name="ev_size" value="X-Large" >
                        <label class="form-check-label" for="flexSwitchCheckDefault">X-Large</label>
                    </div>

                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" checked role="switch" id="any-size"
                            name="ev_size" value="All" >
                        <label class="form-check-label" for="flexSwitchCheckDefault">Any size</label>
                    </div>
        
            <!-- select simplu -->
            <p>
             <label> Type of event:
            <select id="inp-categorie">
                <option id="all" selected value="all">Show all</option>
                <%
                const uniqueCategories = new Set();
                for (let option of locals.options) {
                  uniqueCategories.add(option.categorie);
                }
              %>
              
              <% Array.from(uniqueCategories).forEach((category) => { %>
                <option value="<%- category %>"> <%- category %> </option>
              <% }); %>
            </select> 
        </label>
    </p>

    <!-- select multiplu -->
    <div id="services-container" class="">
        <label>Included services::
            <select id="inp-services" multiple size="7">
                <option value="All" selected id="">All</option>
                <option value="f&b">Food & Beverages</option>
                <option value="music">Music</option>
                <option value="bar bar">Cocktail bar</option>
                <option value="video">Video</option>
                <option value="photo">Photo</option>
                <option value="candy-bar">Candy bar</option>
            </select>
        </label>
    </div>

    <!-- textarea - de folosit pt comentarii etc -->
    <div class="row">
        <div class="form-floating col-md-3" id="descriere-container">
            <p>Search in event description:</p>
            <textarea class="form-control" placeholder="What are you looking for?" id="inp-description"
                name="descriere" rows="4" cols="25"></textarea>
            <label for="inp-descriere"></label>
        </div>

    <!-- pentru carcateristica booleanÄƒ se vor face doua butoane de tip radio -->
    
    <div class="row">
        <div id="vouchers-container" class="col-md-6">
            <p>Accepting payment with vouchers:</p><!-- tdebuie sa aiba acelasi name ca sa formeze un grup -->
            <p><label>Yes
                    <input id="voucher-radio-1" name="v_rad" value="true" type="radio" />
                </label></p>
            <p><label>No
                    <input id="voucher-radio-2" name="v_rad" value="false" type="radio" />
                </label>
            <p><label>Show all options
                    <input id="voucher-radio-all" name="v_rad" value="all" type="radio" checked />
                </label>
        </div>
    </div>

        <p>
        
        <button id="filter">Filter</button> 
        <button id="reset">Reset</button><br/>
        <button id="sortCresc">Ascending order after organization price and event size</button>
        <button id="sortDescresc">Descending order after organization price and event size</button>
        
        </p>
        
        <p id="sum-total">Press Alt+"c" to find out the total organization price of the shown events. </p>
        
        <section id="events">
            <h2>Events</h2>
            <div class="grid-events">
                <% for( let event of locals.events) { %>
                    <article class="event" id="elem_<%-event.id%>>" >
                        <h3 class="denumire">Caption: <a href="/event/<%- event.id%>" >
                            <span class="val-denumire"><%- event.denumire%></span></a></h3>
                        
                        <div class="event-flex">
                        <div class="info-event-table">
                            <table>
                            <tr>
                                <td>Organization price (excl. services):</td>
                                <td class="val_pret_org"><%- event.cost_organizare %></td>
                            </tr>

                            <tr>
                                <td>Total price:</td>
                                <td class="val_pret_total"><%- event.cost_total%></td>
                            </tr>

                            <tr>
                                <td>Event size:</td>
                                <td class="val_marime"><%- event.marime %></td>
                            </tr>

                            <tr>
                                <td>Included services:</td>
                                <td class="val_servicii"><%- event.servicii_incluse %></td>
                            </tr>
                    
                    
                        <tr >
                            <td>Menu:</td>
                            <td class="val_meniu"><%- event.meniu %></td>
                        </tr>
                        <tr class="hidden">
                            <td class="val_anotimp"><%- event.anotimp %></td>
                        </tr>
                        <tr class="hidden">
                            <td class="event-id"><%- event.id %></td>
                        </tr>
                        <!-- <tr class="hidden">
                            <td class="val-servicii"><%- event.servicii_incluse %></td>
                        </tr> -->
                    </table>
                    
                        <p>Description: <span class="val_descriere"><%- event.descriere %> </span></p>
                        <p class="categorie">Category: <span class="val_categorie"><%- event.categorie%></span></p>
                        </div>
                        <div class="imag-container">
                        <figure>
                            <a href="/event/<%- event.id %>" ><img src="/resurse/images/events/<%- event.imagine %>" style="width:50%;height:auto;" alt="[imagine <%- event.denumire %>]" /></a>
                        </figure>
                    </div>

                        <!-- de formatat data -->
                        <p>Next available date: <time datetime="YYYY-MM-DD" class="data_disponibila"><%- event.data_disponibila
                            %> </time> </p>
                        <p>Can you pay with vouchers: <span class="val_vouchere">
                            <% if (event.plata_vouchere) { %>
                              Yes!
                            <% } else { %>
                              No.
                            <% } %>
                          </span></p>
                        </div>
                        </article>
                <% }%>
            </div>
        </section>
    </main>
    <%- include("../fragmente/footer.ejs") %>
</body>
</html>